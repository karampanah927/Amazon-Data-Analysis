{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "82103bb8",
   "metadata": {
    "papermill": {
     "duration": 0.027442,
     "end_time": "2021-11-19T20:16:40.204223",
     "exception": false,
     "start_time": "2021-11-19T20:16:40.176781",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "## <center style = \"font-family:Arial\">Amazon Book Data Analysis</center>"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ec55130e",
   "metadata": {
    "papermill": {
     "duration": 0.023735,
     "end_time": "2021-11-19T20:16:40.396248",
     "exception": false,
     "start_time": "2021-11-19T20:16:40.372513",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# <center>Import Libraries</center>\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "e5f7eb47",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:40.447714Z",
     "iopub.status.busy": "2021-11-19T20:16:40.446652Z",
     "iopub.status.idle": "2021-11-19T20:16:41.518052Z",
     "shell.execute_reply": "2021-11-19T20:16:41.518600Z",
     "shell.execute_reply.started": "2021-11-19T19:24:04.060568Z"
    },
    "papermill": {
     "duration": 1.098678,
     "end_time": "2021-11-19T20:16:41.518875",
     "exception": false,
     "start_time": "2021-11-19T20:16:40.420197",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Setup Complete!\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "%matplotlib inline\n",
    "import re\n",
    "import time\n",
    "from datetime import datetime\n",
    "import matplotlib.dates as mdates\n",
    "import matplotlib.ticker as ticker\n",
    "from urllib.request import urlopen\n",
    "from bs4 import BeautifulSoup\n",
    "import requests\n",
    "import warnings\n",
    "warnings.filterwarnings('ignore')\n",
    "print('Setup Complete!')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "cd062132",
   "metadata": {
    "papermill": {
     "duration": 0.023924,
     "end_time": "2021-11-19T20:16:41.664219",
     "exception": false,
     "start_time": "2021-11-19T20:16:41.640295",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**Note that some author names are not registered with Amazon, so you need to apply extra find for those authors. In the below cell code, you would find nested if-else conditions for author names, which are to extract the author/publication names.**"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1a03b4cd",
   "metadata": {
    "papermill": {
     "duration": 0.02395,
     "end_time": "2021-11-19T20:16:41.712904",
     "exception": false,
     "start_time": "2021-11-19T20:16:41.688954",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# <center>Web Scraping</center>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "0e39ae8e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:41.765479Z",
     "iopub.status.busy": "2021-11-19T20:16:41.764833Z",
     "iopub.status.idle": "2021-11-19T20:16:41.775433Z",
     "shell.execute_reply": "2021-11-19T20:16:41.775926Z",
     "shell.execute_reply.started": "2021-11-19T19:24:04.07137Z"
    },
    "papermill": {
     "duration": 0.037841,
     "end_time": "2021-11-19T20:16:41.776103",
     "exception": false,
     "start_time": "2021-11-19T20:16:41.738262",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "no_pages = 2\n",
    "\n",
    "def get_data(pageNo):  \n",
    "    headers = {\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0\", \"Accept-Encoding\":\"gzip, deflate\", \"Accept\":\"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\", \"DNT\":\"1\",\"Connection\":\"close\", \"Upgrade-Insecure-Requests\":\"1\"}\n",
    "\n",
    "    r = requests.get('https://www.amazon.com/gp/bestsellers/books/ref=zg_bs_pg_'+str(pageNo)+'?ie=UTF8&pg='+str(pageNo), headers=headers)#, proxies=proxies)\n",
    "    content = r.content\n",
    "    soup = BeautifulSoup(content)\n",
    "    #print(soup)\n",
    "\n",
    "    alls = []\n",
    "    for d in soup.findAll('div', attrs={'class':'a-section a-spacing-none aok-relative'}):\n",
    "        #print(d)\n",
    "        name = d.find('span', attrs={'class':'zg-text-center-align'})\n",
    "        n = name.find_all('img', alt=True)\n",
    "        #print(n[0]['alt'])\n",
    "        author = d.find('a', attrs={'class':'a-size-small a-link-child'})\n",
    "        rating = d.find('span', attrs={'class':'a-icon-alt'})\n",
    "        users_rated = d.find('a', attrs={'class':'a-size-small a-link-normal'})\n",
    "        price = d.find('span', attrs={'class':'p13n-sc-price'})\n",
    "\n",
    "        all1=[]\n",
    "\n",
    "        if name is not None:\n",
    "            #print(n[0]['alt'])\n",
    "            all1.append(n[0]['alt'])\n",
    "        else:\n",
    "            all1.append(\"unknown-product\")\n",
    "\n",
    "        if author is not None:\n",
    "            #print(author.text)\n",
    "            all1.append(author.text)\n",
    "        elif author is None:\n",
    "            author = d.find('span', attrs={'class':'a-size-small a-color-base'})\n",
    "            if author is not None:\n",
    "                all1.append(author.text)\n",
    "            else:    \n",
    "                all1.append('0')\n",
    "\n",
    "        if rating is not None:\n",
    "            #print(rating.text)\n",
    "            all1.append(rating.text)\n",
    "        else:\n",
    "            all1.append('-1')\n",
    "\n",
    "        if users_rated is not None:\n",
    "            #print(price.text)\n",
    "            all1.append(users_rated.text)\n",
    "        else:\n",
    "            all1.append('0')     \n",
    "\n",
    "        if price is not None:\n",
    "            #print(price.text)\n",
    "            all1.append(price.text)\n",
    "        else:\n",
    "            all1.append('0')\n",
    "        alls.append(all1)    \n",
    "    return alls"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d390dd6d",
   "metadata": {
    "papermill": {
     "duration": 0.03324,
     "end_time": "2021-11-19T20:16:41.833719",
     "exception": false,
     "start_time": "2021-11-19T20:16:41.800479",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**The below code cell will perform the following functions:**\n",
    "\n",
    "* Call the get_data function inside a for loop.\n",
    "* The for loop will iterate over this function starting from 1 till the number of pages+1.\n",
    "* Since the output will be a nested list, you would first flatten the list and then pass it to the DataFrame.\n",
    "* Finally, save the dataframe as a CSV file."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "763db3ea",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:41.901618Z",
     "iopub.status.busy": "2021-11-19T20:16:41.900966Z",
     "iopub.status.idle": "2021-11-19T20:16:45.614185Z",
     "shell.execute_reply": "2021-11-19T20:16:45.614785Z",
     "shell.execute_reply.started": "2021-11-19T19:24:04.089293Z"
    },
    "papermill": {
     "duration": 3.74662,
     "end_time": "2021-11-19T20:16:45.614982",
     "exception": false,
     "start_time": "2021-11-19T20:16:41.868362",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "results = []\n",
    "for i in range(1, no_pages+1):\n",
    "    results.append(get_data(i))\n",
    "flatten = lambda l: [item for sublist in l for item in sublist]\n",
    "df = pd.DataFrame(flatten(results),columns=['Book Name','Author','Rating','Customers_Rated', 'Price'])\n",
    "df.to_csv('amazon_products.csv', index=False, encoding='utf-8')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f50a84f7",
   "metadata": {
    "papermill": {
     "duration": 0.023932,
     "end_time": "2021-11-19T20:16:45.663651",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.639719",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# <center> Reading CSV File</center>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "1eb3e836",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:45.717461Z",
     "iopub.status.busy": "2021-11-19T20:16:45.716476Z",
     "iopub.status.idle": "2021-11-19T20:16:45.724173Z",
     "shell.execute_reply": "2021-11-19T20:16:45.724713Z",
     "shell.execute_reply.started": "2021-11-19T19:24:06.287957Z"
    },
    "papermill": {
     "duration": 0.03693,
     "end_time": "2021-11-19T20:16:45.724890",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.687960",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "df = pd.read_csv(\"amazon_products.csv\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "48755d5a",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:45.778805Z",
     "iopub.status.busy": "2021-11-19T20:16:45.778185Z",
     "iopub.status.idle": "2021-11-19T20:16:45.784426Z",
     "shell.execute_reply": "2021-11-19T20:16:45.784851Z",
     "shell.execute_reply.started": "2021-11-19T19:24:06.298653Z"
    },
    "papermill": {
     "duration": 0.035004,
     "end_time": "2021-11-19T20:16:45.785044",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.750040",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(100, 5)"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8004e070",
   "metadata": {
    "papermill": {
     "duration": 0.025004,
     "end_time": "2021-11-19T20:16:45.834828",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.809824",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**The shape of the dataframe reveals that there are 100 rows and 5 columns in your CSV file.**\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "da7c79ea",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:45.887326Z",
     "iopub.status.busy": "2021-11-19T20:16:45.886736Z",
     "iopub.status.idle": "2021-11-19T20:16:45.900612Z",
     "shell.execute_reply": "2021-11-19T20:16:45.901085Z",
     "shell.execute_reply.started": "2021-11-19T19:24:06.314085Z"
    },
    "papermill": {
     "duration": 0.041952,
     "end_time": "2021-11-19T20:16:45.901250",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.859298",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Book Name</th>\n",
       "      <th>Author</th>\n",
       "      <th>Rating</th>\n",
       "      <th>Customers_Rated</th>\n",
       "      <th>Price</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>All American Christmas</td>\n",
       "      <td>Rachel Campos-Duffy</td>\n",
       "      <td>4.5 out of 5 stars</td>\n",
       "      <td>42</td>\n",
       "      <td>$18.77</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>The Real Anthony Fauci: Bill Gates, Big Pharma...</td>\n",
       "      <td>Robert F. Kennedy Jr.</td>\n",
       "      <td>4.9 out of 5 stars</td>\n",
       "      <td>173</td>\n",
       "      <td>$17.59</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>The 1619 Project: A New Origin Story</td>\n",
       "      <td>Nikole Hannah-Jones</td>\n",
       "      <td>4.4 out of 5 stars</td>\n",
       "      <td>63</td>\n",
       "      <td>$24.99</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Big Shot Diary of a Wimpy Kid Book 16</td>\n",
       "      <td>Jeff Kinney</td>\n",
       "      <td>4.8 out of 5 stars</td>\n",
       "      <td>1,695</td>\n",
       "      <td>$9.00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Welcome to Dunder Mifflin: The Ultimate Oral H...</td>\n",
       "      <td>Brian Baumgartner</td>\n",
       "      <td>5.0 out of 5 stars</td>\n",
       "      <td>6</td>\n",
       "      <td>$20.45</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                           Book Name                 Author  \\\n",
       "0                             All American Christmas    Rachel Campos-Duffy   \n",
       "1  The Real Anthony Fauci: Bill Gates, Big Pharma...  Robert F. Kennedy Jr.   \n",
       "2               The 1619 Project: A New Origin Story    Nikole Hannah-Jones   \n",
       "3              Big Shot Diary of a Wimpy Kid Book 16            Jeff Kinney   \n",
       "4  Welcome to Dunder Mifflin: The Ultimate Oral H...      Brian Baumgartner   \n",
       "\n",
       "               Rating Customers_Rated   Price  \n",
       "0  4.5 out of 5 stars              42  $18.77  \n",
       "1  4.9 out of 5 stars             173  $17.59  \n",
       "2  4.4 out of 5 stars              63  $24.99  \n",
       "3  4.8 out of 5 stars           1,695   $9.00  \n",
       "4  5.0 out of 5 stars               6  $20.45  "
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "e728c387",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:45.954380Z",
     "iopub.status.busy": "2021-11-19T20:16:45.953756Z",
     "iopub.status.idle": "2021-11-19T20:16:45.964650Z",
     "shell.execute_reply": "2021-11-19T20:16:45.964107Z",
     "shell.execute_reply.started": "2021-11-19T19:24:06.337744Z"
    },
    "papermill": {
     "duration": 0.038293,
     "end_time": "2021-11-19T20:16:45.964800",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.926507",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Book Name</th>\n",
       "      <th>Author</th>\n",
       "      <th>Rating</th>\n",
       "      <th>Customers_Rated</th>\n",
       "      <th>Price</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>The Mountain Is You: Transforming Self-Sabotag...</td>\n",
       "      <td>Brianna Wiest</td>\n",
       "      <td>4.8 out of 5 stars</td>\n",
       "      <td>1,700</td>\n",
       "      <td>$16.69</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>96</th>\n",
       "      <td>Interesting Stories For Curious People: A Coll...</td>\n",
       "      <td>Bill O'Neill</td>\n",
       "      <td>4.5 out of 5 stars</td>\n",
       "      <td>10,757</td>\n",
       "      <td>$8.19</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>The Unofficial Harry Potter Cookbook: From Cau...</td>\n",
       "      <td>Dinah Bucholz</td>\n",
       "      <td>4.7 out of 5 stars</td>\n",
       "      <td>24,751</td>\n",
       "      <td>$9.99</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>98</th>\n",
       "      <td>Woke Up This Morning: The Definitive Oral Hist...</td>\n",
       "      <td>Michael Imperioli</td>\n",
       "      <td>4.4 out of 5 stars</td>\n",
       "      <td>161</td>\n",
       "      <td>$21.99</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>99</th>\n",
       "      <td>The Far Side® 2022 Off-The-Wall Calendar</td>\n",
       "      <td>Gary Larson</td>\n",
       "      <td>4.7 out of 5 stars</td>\n",
       "      <td>92</td>\n",
       "      <td>$14.39</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            Book Name             Author  \\\n",
       "95  The Mountain Is You: Transforming Self-Sabotag...      Brianna Wiest   \n",
       "96  Interesting Stories For Curious People: A Coll...       Bill O'Neill   \n",
       "97  The Unofficial Harry Potter Cookbook: From Cau...      Dinah Bucholz   \n",
       "98  Woke Up This Morning: The Definitive Oral Hist...  Michael Imperioli   \n",
       "99           The Far Side® 2022 Off-The-Wall Calendar        Gary Larson   \n",
       "\n",
       "                Rating Customers_Rated   Price  \n",
       "95  4.8 out of 5 stars           1,700  $16.69  \n",
       "96  4.5 out of 5 stars          10,757   $8.19  \n",
       "97  4.7 out of 5 stars          24,751   $9.99  \n",
       "98  4.4 out of 5 stars             161  $21.99  \n",
       "99  4.7 out of 5 stars              92  $14.39  "
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.tail()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "447a1554",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.036370Z",
     "iopub.status.busy": "2021-11-19T20:16:46.035737Z",
     "iopub.status.idle": "2021-11-19T20:16:46.040913Z",
     "shell.execute_reply": "2021-11-19T20:16:46.040423Z",
     "shell.execute_reply.started": "2021-11-19T19:24:06.353122Z"
    },
    "papermill": {
     "duration": 0.050049,
     "end_time": "2021-11-19T20:16:46.041045",
     "exception": false,
     "start_time": "2021-11-19T20:16:45.990996",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 100 entries, 0 to 99\n",
      "Data columns (total 5 columns):\n",
      " #   Column           Non-Null Count  Dtype \n",
      "---  ------           --------------  ----- \n",
      " 0   Book Name        100 non-null    object\n",
      " 1   Author           100 non-null    object\n",
      " 2   Rating           100 non-null    object\n",
      " 3   Customers_Rated  100 non-null    object\n",
      " 4   Price            100 non-null    object\n",
      "dtypes: object(5)\n",
      "memory usage: 4.0+ KB\n"
     ]
    }
   ],
   "source": [
    "df.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a8d847a7",
   "metadata": {
    "papermill": {
     "duration": 0.026421,
     "end_time": "2021-11-19T20:16:46.093721",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.067300",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**preprocessing on the ratings, customers_rated, and price column.**\n",
    "* Since you know the ratings are out of 5, you can keep only the rating and remove the extra part from it.\n",
    "* From the customers_rated column, remove the comma.\n",
    "* From the price column, remove the rupees symbol, comma, and split it by dot.\n",
    "* Finally, convert all the three columns into integer or float."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4e737be2",
   "metadata": {
    "papermill": {
     "duration": 0.026183,
     "end_time": "2021-11-19T20:16:46.145469",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.119286",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# <center>Data Cleaning</center>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "f9785be8",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.201298Z",
     "iopub.status.busy": "2021-11-19T20:16:46.200661Z",
     "iopub.status.idle": "2021-11-19T20:16:46.218918Z",
     "shell.execute_reply": "2021-11-19T20:16:46.219466Z",
     "shell.execute_reply.started": "2021-11-19T19:24:06.377748Z"
    },
    "papermill": {
     "duration": 0.048475,
     "end_time": "2021-11-19T20:16:46.219655",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.171180",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Book Name</th>\n",
       "      <th>Author</th>\n",
       "      <th>Rating</th>\n",
       "      <th>Customers_Rated</th>\n",
       "      <th>Price</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>All American Christmas</td>\n",
       "      <td>Rachel Campos-Duffy</td>\n",
       "      <td>4.5</td>\n",
       "      <td>42</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>The Real Anthony Fauci: Bill Gates, Big Pharma...</td>\n",
       "      <td>Robert F. Kennedy Jr.</td>\n",
       "      <td>4.9</td>\n",
       "      <td>173</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>The 1619 Project: A New Origin Story</td>\n",
       "      <td>Nikole Hannah-Jones</td>\n",
       "      <td>4.4</td>\n",
       "      <td>63</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Big Shot Diary of a Wimpy Kid Book 16</td>\n",
       "      <td>Jeff Kinney</td>\n",
       "      <td>4.8</td>\n",
       "      <td>1695</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Welcome to Dunder Mifflin: The Ultimate Oral H...</td>\n",
       "      <td>Brian Baumgartner</td>\n",
       "      <td>5.0</td>\n",
       "      <td>6</td>\n",
       "      <td>20</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                           Book Name                 Author  \\\n",
       "0                             All American Christmas    Rachel Campos-Duffy   \n",
       "1  The Real Anthony Fauci: Bill Gates, Big Pharma...  Robert F. Kennedy Jr.   \n",
       "2               The 1619 Project: A New Origin Story    Nikole Hannah-Jones   \n",
       "3              Big Shot Diary of a Wimpy Kid Book 16            Jeff Kinney   \n",
       "4  Welcome to Dunder Mifflin: The Ultimate Oral H...      Brian Baumgartner   \n",
       "\n",
       "   Rating  Customers_Rated  Price  \n",
       "0     4.5               42     18  \n",
       "1     4.9              173     17  \n",
       "2     4.4               63     24  \n",
       "3     4.8             1695      9  \n",
       "4     5.0                6     20  "
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['Rating'] = df['Rating'].apply(lambda x: x.split()[0])\n",
    "df['Rating'] = pd.to_numeric(df['Rating'])\n",
    "df[\"Price\"] = df[\"Price\"].str.replace('$', '')\n",
    "df[\"Price\"] = df[\"Price\"].str.replace(',', '')\n",
    "df['Price'] = df['Price'].apply(lambda x: x.split('.')[0])\n",
    "df['Price'] = df['Price'].astype(int)\n",
    "df[\"Customers_Rated\"] = df[\"Customers_Rated\"].str.replace(',', '')\n",
    "df['Customers_Rated'] = pd.to_numeric(df['Customers_Rated'], errors='ignore')\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ddead5a0",
   "metadata": {
    "papermill": {
     "duration": 0.026509,
     "end_time": "2021-11-19T20:16:46.272504",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.245995",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "### Let's verify the data types of the DataFrame."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "2f3c15e3",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.332428Z",
     "iopub.status.busy": "2021-11-19T20:16:46.331248Z",
     "iopub.status.idle": "2021-11-19T20:16:46.339091Z",
     "shell.execute_reply": "2021-11-19T20:16:46.338578Z",
     "shell.execute_reply.started": "2021-11-19T19:25:12.312175Z"
    },
    "papermill": {
     "duration": 0.039899,
     "end_time": "2021-11-19T20:16:46.339235",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.299336",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Book Name           object\n",
       "Author              object\n",
       "Rating             float64\n",
       "Customers_Rated      int64\n",
       "Price                int64\n",
       "dtype: object"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.dtypes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "ff62dd24",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.402137Z",
     "iopub.status.busy": "2021-11-19T20:16:46.401520Z",
     "iopub.status.idle": "2021-11-19T20:16:46.404489Z",
     "shell.execute_reply": "2021-11-19T20:16:46.403984Z",
     "shell.execute_reply.started": "2021-11-19T19:25:39.096432Z"
    },
    "papermill": {
     "duration": 0.037019,
     "end_time": "2021-11-19T20:16:46.404738",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.367719",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "## Replace the zero values in the DataFrame to NaN.\n",
    "df.replace(str(0), np.nan, inplace=True)\n",
    "df.replace(0, np.nan, inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "e78d3f24",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.460936Z",
     "iopub.status.busy": "2021-11-19T20:16:46.460233Z",
     "iopub.status.idle": "2021-11-19T20:16:46.468363Z",
     "shell.execute_reply": "2021-11-19T20:16:46.468889Z",
     "shell.execute_reply.started": "2021-11-19T19:26:04.411097Z"
    },
    "papermill": {
     "duration": 0.0377,
     "end_time": "2021-11-19T20:16:46.469059",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.431359",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Book Name          0\n",
       "Author             1\n",
       "Rating             0\n",
       "Customers_Rated    8\n",
       "Price              0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "## Counting the Number of NaNs in the DataFrame\n",
    "count_nan = len(df) - df.count()\n",
    "count_nan"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "780b5624",
   "metadata": {
    "papermill": {
     "duration": 0.027193,
     "end_time": "2021-11-19T20:16:46.522988",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.495795",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**From the above output: there is a total of six books that do not have an Author Name, while one book does not have a price associated with it**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "d19f5b08",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.586285Z",
     "iopub.status.busy": "2021-11-19T20:16:46.585535Z",
     "iopub.status.idle": "2021-11-19T20:16:46.588269Z",
     "shell.execute_reply": "2021-11-19T20:16:46.588936Z",
     "shell.execute_reply.started": "2021-11-19T19:27:56.42196Z"
    },
    "papermill": {
     "duration": 0.039057,
     "end_time": "2021-11-19T20:16:46.589108",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.550051",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "## Let's drop these NaNs.\n",
    "df = df.dropna()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d9fb5c5f",
   "metadata": {
    "papermill": {
     "duration": 0.026622,
     "end_time": "2021-11-19T20:16:46.642551",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.615929",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "### Authors Highest Priced Book\n",
    "**Let's find out which all authors had the highest-priced book. You will visualize the results for such the top 20 authors.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "a5c7b186",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.771565Z",
     "iopub.status.busy": "2021-11-19T20:16:46.770714Z",
     "iopub.status.idle": "2021-11-19T20:16:46.774111Z",
     "shell.execute_reply": "2021-11-19T20:16:46.774590Z",
     "shell.execute_reply.started": "2021-11-19T19:28:54.333949Z"
    },
    "papermill": {
     "duration": 0.105452,
     "end_time": "2021-11-19T20:16:46.774756",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.669304",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Book Name</th>\n",
       "      <th>Author</th>\n",
       "      <th>Rating</th>\n",
       "      <th>Customers_Rated</th>\n",
       "      <th>Price</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>Demon Slayer Complete Box Set: Includes volume...</td>\n",
       "      <td>Koyoharu Gotouge</td>\n",
       "      <td>4.6</td>\n",
       "      <td>103.0</td>\n",
       "      <td>294</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>42</th>\n",
       "      <td>The Lyrics: 1956 to the Present</td>\n",
       "      <td>Paul McCartney</td>\n",
       "      <td>4.8</td>\n",
       "      <td>203.0</td>\n",
       "      <td>99</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>41</th>\n",
       "      <td>Harry Potter Paperback Box Set (Books 1-7)</td>\n",
       "      <td>J. K. Rowling</td>\n",
       "      <td>4.9</td>\n",
       "      <td>57791.0</td>\n",
       "      <td>45</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>90</th>\n",
       "      <td>Fizban's Treasury of Dragons (Dungeon &amp; Dragon...</td>\n",
       "      <td>Wizards RPG Team</td>\n",
       "      <td>4.7</td>\n",
       "      <td>606.0</td>\n",
       "      <td>29</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>The 1619 Project: A New Origin Story</td>\n",
       "      <td>Nikole Hannah-Jones</td>\n",
       "      <td>4.4</td>\n",
       "      <td>63.0</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>38</th>\n",
       "      <td>The Dawn of Everything: A New History of Humanity</td>\n",
       "      <td>David Graeber</td>\n",
       "      <td>4.4</td>\n",
       "      <td>71.0</td>\n",
       "      <td>22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>63</th>\n",
       "      <td>Dwyane</td>\n",
       "      <td>Dwyane Wade</td>\n",
       "      <td>3.6</td>\n",
       "      <td>5.0</td>\n",
       "      <td>22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>98</th>\n",
       "      <td>Woke Up This Morning: The Definitive Oral Hist...</td>\n",
       "      <td>Michael Imperioli</td>\n",
       "      <td>4.4</td>\n",
       "      <td>161.0</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Humans</td>\n",
       "      <td>Brandon Stanton</td>\n",
       "      <td>4.9</td>\n",
       "      <td>15618.0</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Welcome to Dunder Mifflin: The Ultimate Oral H...</td>\n",
       "      <td>Brian Baumgartner</td>\n",
       "      <td>5.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>62</th>\n",
       "      <td>Cain's Jawbone</td>\n",
       "      <td>Edward Powys Mathers</td>\n",
       "      <td>4.6</td>\n",
       "      <td>110.0</td>\n",
       "      <td>20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Betrayal: The Final Act of the Trump Show</td>\n",
       "      <td>Jonathan Karl</td>\n",
       "      <td>4.3</td>\n",
       "      <td>44.0</td>\n",
       "      <td>19</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>36</th>\n",
       "      <td>The Blue Zones Kitchen: 100 Recipes to Live to...</td>\n",
       "      <td>Dan Buettner</td>\n",
       "      <td>4.5</td>\n",
       "      <td>9206.0</td>\n",
       "      <td>19</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>44</th>\n",
       "      <td>The Pioneer Woman Cooks―Super Easy!: 120 Short...</td>\n",
       "      <td>Ree Drummond</td>\n",
       "      <td>4.8</td>\n",
       "      <td>1059.0</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>61</th>\n",
       "      <td>Percy Jackson and the Olympians 5 Book Paperba...</td>\n",
       "      <td>Rick Riordan</td>\n",
       "      <td>4.9</td>\n",
       "      <td>26742.0</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            Book Name                Author  \\\n",
       "21  Demon Slayer Complete Box Set: Includes volume...      Koyoharu Gotouge   \n",
       "42                    The Lyrics: 1956 to the Present        Paul McCartney   \n",
       "41         Harry Potter Paperback Box Set (Books 1-7)         J. K. Rowling   \n",
       "90  Fizban's Treasury of Dragons (Dungeon & Dragon...      Wizards RPG Team   \n",
       "2                The 1619 Project: A New Origin Story   Nikole Hannah-Jones   \n",
       "38  The Dawn of Everything: A New History of Humanity         David Graeber   \n",
       "63                                             Dwyane           Dwyane Wade   \n",
       "98  Woke Up This Morning: The Definitive Oral Hist...     Michael Imperioli   \n",
       "15                                             Humans       Brandon Stanton   \n",
       "4   Welcome to Dunder Mifflin: The Ultimate Oral H...     Brian Baumgartner   \n",
       "62                                     Cain's Jawbone  Edward Powys Mathers   \n",
       "5           Betrayal: The Final Act of the Trump Show         Jonathan Karl   \n",
       "36  The Blue Zones Kitchen: 100 Recipes to Live to...          Dan Buettner   \n",
       "44  The Pioneer Woman Cooks―Super Easy!: 120 Short...          Ree Drummond   \n",
       "61  Percy Jackson and the Olympians 5 Book Paperba...          Rick Riordan   \n",
       "\n",
       "    Rating  Customers_Rated  Price  \n",
       "21     4.6            103.0    294  \n",
       "42     4.8            203.0     99  \n",
       "41     4.9          57791.0     45  \n",
       "90     4.7            606.0     29  \n",
       "2      4.4             63.0     24  \n",
       "38     4.4             71.0     22  \n",
       "63     3.6              5.0     22  \n",
       "98     4.4            161.0     21  \n",
       "15     4.9          15618.0     21  \n",
       "4      5.0              6.0     20  \n",
       "62     4.6            110.0     20  \n",
       "5      4.3             44.0     19  \n",
       "36     4.5           9206.0     19  \n",
       "44     4.8           1059.0     18  \n",
       "61     4.9          26742.0     18  "
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data = df.sort_values([\"Price\"], axis=0, ascending=False)[:15]\n",
    "data"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5f900ad8",
   "metadata": {
    "papermill": {
     "duration": 0.027003,
     "end_time": "2021-11-19T20:16:46.829827",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.802824",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "# <center>Data Visualization</center>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "37283ef7",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:46.890246Z",
     "iopub.status.busy": "2021-11-19T20:16:46.889623Z",
     "iopub.status.idle": "2021-11-19T20:16:47.282220Z",
     "shell.execute_reply": "2021-11-19T20:16:47.281751Z",
     "shell.execute_reply.started": "2021-11-19T19:30:00.17173Z"
    },
    "papermill": {
     "duration": 0.425259,
     "end_time": "2021-11-19T20:16:47.282359",
     "exception": false,
     "start_time": "2021-11-19T20:16:46.857100",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "    <div class=\"bk-root\">\n",
       "        <a href=\"https://bokeh.org\" target=\"_blank\" class=\"bk-logo bk-logo-small bk-logo-notebook\"></a>\n",
       "        <span id=\"1002\">Loading BokehJS ...</span>\n",
       "    </div>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "\n(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\n  const JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null && id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i < script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n\n  \n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"<div style='background-color: #fdd'>\\n\"+\n     \"<p>\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"</p>\\n\"+\n     \"<ul>\\n\"+\n     \"<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\\n\"+\n     \"<li>use INLINE resources instead, as so:</li>\\n\"+\n     \"</ul>\\n\"+\n     \"<code>\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"</code>\\n\"+\n     \"</div>\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(\"1002\");\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading > 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i < css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i < js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  \n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-2.4.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.1.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.1.min.js\"];\n  const css_urls = [];\n  \n\n  const inline_js = [\n    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\n    function(Bokeh) {\n    \n    \n    }\n  ];\n\n  function run_inline_js() {\n    \n    if (root.Bokeh !== undefined || force === true) {\n      \n    for (let i = 0; i < inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\n    if (force === true) {\n        display_loaded();\n      }} else if (Date.now() < root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(\"1002\")).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));",
      "application/vnd.bokehjs_load.v0+json": ""
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "from bokeh.models import ColumnDataSource\n",
    "from bokeh.transform import dodge\n",
    "import math\n",
    "from bokeh.io import curdoc\n",
    "curdoc().clear()\n",
    "from bokeh.io import push_notebook, show, output_notebook\n",
    "from bokeh.layouts import row\n",
    "from bokeh.plotting import figure\n",
    "from bokeh.transform import factor_cmap\n",
    "from bokeh.models import Legend\n",
    "output_notebook()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "fc0cdfb1",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:47.343695Z",
     "iopub.status.busy": "2021-11-19T20:16:47.343039Z",
     "iopub.status.idle": "2021-11-19T20:16:47.357215Z",
     "shell.execute_reply": "2021-11-19T20:16:47.356665Z",
     "shell.execute_reply.started": "2021-11-19T19:30:28.103118Z"
    },
    "papermill": {
     "duration": 0.046206,
     "end_time": "2021-11-19T20:16:47.357360",
     "exception": false,
     "start_time": "2021-11-19T20:16:47.311154",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "p = figure(x_range=data.iloc[:,1], plot_width=800, plot_height=550, title=\"Authors Highest Priced Book\", toolbar_location=None, tools=\"\")\n",
    "\n",
    "p.vbar(x=data.iloc[:,1], top=data.iloc[:,4], width=0.9)\n",
    "\n",
    "p.xgrid.grid_line_color = None\n",
    "p.y_range.start = 0\n",
    "p.xaxis.major_label_orientation = math.pi/2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "8957c2db",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:47.426541Z",
     "iopub.status.busy": "2021-11-19T20:16:47.425880Z",
     "iopub.status.idle": "2021-11-19T20:16:47.462721Z",
     "shell.execute_reply": "2021-11-19T20:16:47.462204Z",
     "shell.execute_reply.started": "2021-11-19T19:30:41.208486Z"
    },
    "papermill": {
     "duration": 0.075569,
     "end_time": "2021-11-19T20:16:47.462863",
     "exception": false,
     "start_time": "2021-11-19T20:16:47.387294",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "  <div class=\"bk-root\" id=\"0458e8bc-1d9c-4687-bd0d-8d58f780127c\" data-root-id=\"1003\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n    \n  const docs_json = {\"4f0e38cb-fe46-4dcf-a011-8ac711ca93b5\":{\"defs\":[],\"roots\":{\"references\":[{\"attributes\":{\"below\":[{\"id\":\"1014\"}],\"center\":[{\"id\":\"1016\"},{\"id\":\"1020\"}],\"height\":550,\"left\":[{\"id\":\"1017\"}],\"renderers\":[{\"id\":\"1026\"}],\"title\":{\"id\":\"1004\"},\"toolbar\":{\"id\":\"1021\"},\"toolbar_location\":null,\"width\":800,\"x_range\":{\"id\":\"1006\"},\"x_scale\":{\"id\":\"1010\"},\"y_range\":{\"id\":\"1008\"},\"y_scale\":{\"id\":\"1012\"}},\"id\":\"1003\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{},\"id\":\"1035\",\"type\":\"UnionRenderers\"},{\"attributes\":{\"coordinates\":null,\"data_source\":{\"id\":\"1022\"},\"glyph\":{\"id\":\"1023\"},\"group\":null,\"hover_glyph\":null,\"muted_glyph\":{\"id\":\"1025\"},\"nonselection_glyph\":{\"id\":\"1024\"},\"view\":{\"id\":\"1027\"}},\"id\":\"1026\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1033\"},\"group\":null,\"major_label_orientation\":1.5707963267948966,\"major_label_policy\":{\"id\":\"1034\"},\"ticker\":{\"id\":\"1015\"}},\"id\":\"1014\",\"type\":\"CategoricalAxis\"},{\"attributes\":{},\"id\":\"1018\",\"type\":\"BasicTicker\"},{\"attributes\":{},\"id\":\"1036\",\"type\":\"Selection\"},{\"attributes\":{},\"id\":\"1015\",\"type\":\"CategoricalTicker\"},{\"attributes\":{\"axis\":{\"id\":\"1014\"},\"coordinates\":null,\"grid_line_color\":null,\"group\":null,\"ticker\":null},\"id\":\"1016\",\"type\":\"Grid\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"value\":\"#1f77b4\"},\"hatch_alpha\":{\"value\":0.1},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1024\",\"type\":\"VBar\"},{\"attributes\":{\"axis\":{\"id\":\"1017\"},\"coordinates\":null,\"dimension\":1,\"group\":null,\"ticker\":null},\"id\":\"1020\",\"type\":\"Grid\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1030\"},\"group\":null,\"major_label_policy\":{\"id\":\"1031\"},\"ticker\":{\"id\":\"1018\"}},\"id\":\"1017\",\"type\":\"LinearAxis\"},{\"attributes\":{},\"id\":\"1021\",\"type\":\"Toolbar\"},{\"attributes\":{},\"id\":\"1031\",\"type\":\"AllLabels\"},{\"attributes\":{\"fill_color\":{\"value\":\"#1f77b4\"},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1023\",\"type\":\"VBar\"},{\"attributes\":{\"factors\":[\"Koyoharu Gotouge\",\"Paul McCartney\",\"J. K. Rowling\",\"Wizards RPG Team\",\"Nikole Hannah-Jones\",\"David Graeber\",\"Dwyane Wade\",\"Michael Imperioli\",\"Brandon Stanton\",\"Brian Baumgartner\",\"Edward Powys Mathers\",\"Jonathan Karl\",\"Dan Buettner\",\"Ree Drummond\",\"Rick Riordan\"]},\"id\":\"1006\",\"type\":\"FactorRange\"},{\"attributes\":{\"source\":{\"id\":\"1022\"}},\"id\":\"1027\",\"type\":\"CDSView\"},{\"attributes\":{\"data\":{\"top\":[294,99,45,29,24,22,22,21,21,20,20,19,19,18,18],\"x\":[\"Koyoharu Gotouge\",\"Paul McCartney\",\"J. K. Rowling\",\"Wizards RPG Team\",\"Nikole Hannah-Jones\",\"David Graeber\",\"Dwyane Wade\",\"Michael Imperioli\",\"Brandon Stanton\",\"Brian Baumgartner\",\"Edward Powys Mathers\",\"Jonathan Karl\",\"Dan Buettner\",\"Ree Drummond\",\"Rick Riordan\"]},\"selected\":{\"id\":\"1036\"},\"selection_policy\":{\"id\":\"1035\"}},\"id\":\"1022\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.2},\"fill_color\":{\"value\":\"#1f77b4\"},\"hatch_alpha\":{\"value\":0.2},\"line_alpha\":{\"value\":0.2},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1025\",\"type\":\"VBar\"},{\"attributes\":{\"coordinates\":null,\"group\":null,\"text\":\"Authors Highest Priced Book\"},\"id\":\"1004\",\"type\":\"Title\"},{\"attributes\":{},\"id\":\"1010\",\"type\":\"CategoricalScale\"},{\"attributes\":{},\"id\":\"1030\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{},\"id\":\"1012\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"1033\",\"type\":\"CategoricalTickFormatter\"},{\"attributes\":{\"start\":0},\"id\":\"1008\",\"type\":\"DataRange1d\"},{\"attributes\":{},\"id\":\"1034\",\"type\":\"AllLabels\"}],\"root_ids\":[\"1003\"]},\"title\":\"Bokeh Application\",\"version\":\"2.4.1\"}};\n  const render_items = [{\"docid\":\"4f0e38cb-fe46-4dcf-a011-8ac711ca93b5\",\"root_ids\":[\"1003\"],\"roots\":{\"1003\":\"0458e8bc-1d9c-4687-bd0d-8d58f780127c\"}}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "1003"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "show(p)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bfd5bbb8",
   "metadata": {
    "papermill": {
     "duration": 0.029235,
     "end_time": "2021-11-19T20:16:47.521720",
     "exception": false,
     "start_time": "2021-11-19T20:16:47.492485",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**From the above graph: the top three highest-priced books are by the author `Koyohau Gotouge`, `Paul McCartney` and `J.K.Rowling`.\n",
    "**\n",
    "### Top Rated Books and Authors wrt Customers Rated\n",
    " \n",
    "**which authors have the top-rated books and which books of those authors are top rated**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "649dc44b",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:47.595726Z",
     "iopub.status.busy": "2021-11-19T20:16:47.595032Z",
     "iopub.status.idle": "2021-11-19T20:16:47.599201Z",
     "shell.execute_reply": "2021-11-19T20:16:47.598756Z",
     "shell.execute_reply.started": "2021-11-19T19:35:33.576037Z"
    },
    "papermill": {
     "duration": 0.048108,
     "end_time": "2021-11-19T20:16:47.599332",
     "exception": false,
     "start_time": "2021-11-19T20:16:47.551224",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Book Name</th>\n",
       "      <th>Author</th>\n",
       "      <th>Rating</th>\n",
       "      <th>Customers_Rated</th>\n",
       "      <th>Price</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>56</th>\n",
       "      <td>Polar Express 30th anniversary edition</td>\n",
       "      <td>Chris Van Allsburg</td>\n",
       "      <td>4.9</td>\n",
       "      <td>14138.0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>34</th>\n",
       "      <td>Cat Kid Comic Club: Perspectives: A Graphic No...</td>\n",
       "      <td>Dav Pilkey</td>\n",
       "      <td>4.9</td>\n",
       "      <td>13712.0</td>\n",
       "      <td>10</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>30</th>\n",
       "      <td>Little Blue Truck's Christmas</td>\n",
       "      <td>Alice Schertle</td>\n",
       "      <td>4.9</td>\n",
       "      <td>11989.0</td>\n",
       "      <td>10</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>77</th>\n",
       "      <td>Joshua Weissman: An Unapologetic Cookbook. #1 ...</td>\n",
       "      <td>Joshua Weissman</td>\n",
       "      <td>4.9</td>\n",
       "      <td>3167.0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>The Very Hungry Caterpillar</td>\n",
       "      <td>Eric Carle</td>\n",
       "      <td>4.9</td>\n",
       "      <td>42110.0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>41</th>\n",
       "      <td>Harry Potter Paperback Box Set (Books 1-7)</td>\n",
       "      <td>J. K. Rowling</td>\n",
       "      <td>4.9</td>\n",
       "      <td>57791.0</td>\n",
       "      <td>45</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>I Love You to the Moon and Back</td>\n",
       "      <td>Amelia Hepworth</td>\n",
       "      <td>4.9</td>\n",
       "      <td>43692.0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>57</th>\n",
       "      <td>Dog Man: Mothering Heights: A Graphic Novel (D...</td>\n",
       "      <td>Dav Pilkey</td>\n",
       "      <td>4.9</td>\n",
       "      <td>15472.0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>59</th>\n",
       "      <td>Super Extra Deluxe Essential Handbook (Pokémon...</td>\n",
       "      <td>Scholastic</td>\n",
       "      <td>4.9</td>\n",
       "      <td>1399.0</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>82</th>\n",
       "      <td>Penguin Random House The Wonderful Things You ...</td>\n",
       "      <td>Emily Winfield Martin</td>\n",
       "      <td>4.9</td>\n",
       "      <td>18261.0</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89</th>\n",
       "      <td>Construction Site on Christmas Night: (Christm...</td>\n",
       "      <td>Sherri Duskey Rinker</td>\n",
       "      <td>4.9</td>\n",
       "      <td>5256.0</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>92</th>\n",
       "      <td>How the Grinch Stole Christmas! (Classic Seuss)</td>\n",
       "      <td>Dr. Seuss</td>\n",
       "      <td>4.9</td>\n",
       "      <td>13022.0</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>61</th>\n",
       "      <td>Percy Jackson and the Olympians 5 Book Paperba...</td>\n",
       "      <td>Rick Riordan</td>\n",
       "      <td>4.9</td>\n",
       "      <td>26742.0</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Humans</td>\n",
       "      <td>Brandon Stanton</td>\n",
       "      <td>4.9</td>\n",
       "      <td>15618.0</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>64</th>\n",
       "      <td>Brown Bear, Brown Bear, What Do You See?</td>\n",
       "      <td>Bill Martin Jr.</td>\n",
       "      <td>4.9</td>\n",
       "      <td>35375.0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            Book Name                 Author  \\\n",
       "56             Polar Express 30th anniversary edition     Chris Van Allsburg   \n",
       "34  Cat Kid Comic Club: Perspectives: A Graphic No...             Dav Pilkey   \n",
       "30                      Little Blue Truck's Christmas         Alice Schertle   \n",
       "77  Joshua Weissman: An Unapologetic Cookbook. #1 ...        Joshua Weissman   \n",
       "26                        The Very Hungry Caterpillar             Eric Carle   \n",
       "41         Harry Potter Paperback Box Set (Books 1-7)          J. K. Rowling   \n",
       "24                    I Love You to the Moon and Back        Amelia Hepworth   \n",
       "57  Dog Man: Mothering Heights: A Graphic Novel (D...             Dav Pilkey   \n",
       "59  Super Extra Deluxe Essential Handbook (Pokémon...             Scholastic   \n",
       "82  Penguin Random House The Wonderful Things You ...  Emily Winfield Martin   \n",
       "89  Construction Site on Christmas Night: (Christm...   Sherri Duskey Rinker   \n",
       "92    How the Grinch Stole Christmas! (Classic Seuss)              Dr. Seuss   \n",
       "61  Percy Jackson and the Olympians 5 Book Paperba...           Rick Riordan   \n",
       "15                                             Humans        Brandon Stanton   \n",
       "64           Brown Bear, Brown Bear, What Do You See?        Bill Martin Jr.   \n",
       "\n",
       "    Rating  Customers_Rated  Price  \n",
       "56     4.9          14138.0     11  \n",
       "34     4.9          13712.0     10  \n",
       "30     4.9          11989.0     10  \n",
       "77     4.9           3167.0     17  \n",
       "26     4.9          42110.0      5  \n",
       "41     4.9          57791.0     45  \n",
       "24     4.9          43692.0      4  \n",
       "57     4.9          15472.0      4  \n",
       "59     4.9           1399.0     12  \n",
       "82     4.9          18261.0      8  \n",
       "89     4.9           5256.0      8  \n",
       "92     4.9          13022.0      9  \n",
       "61     4.9          26742.0     18  \n",
       "15     4.9          15618.0     21  \n",
       "64     4.9          35375.0      5  "
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data = df[df['Customers_Rated'] > 1000]\n",
    "data = data.sort_values(['Rating'],axis=0, ascending=False)[:15]\n",
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "c79d3bfe",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:47.825311Z",
     "iopub.status.busy": "2021-11-19T20:16:47.797779Z",
     "iopub.status.idle": "2021-11-19T20:16:47.834152Z",
     "shell.execute_reply": "2021-11-19T20:16:47.834643Z",
     "shell.execute_reply.started": "2021-11-19T19:50:13.169107Z"
    },
    "papermill": {
     "duration": 0.205256,
     "end_time": "2021-11-19T20:16:47.834812",
     "exception": false,
     "start_time": "2021-11-19T20:16:47.629556",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "  <div class=\"bk-root\" id=\"0b41883e-4476-4111-81f3-445ff9187bcf\" data-root-id=\"1082\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n    \n  const docs_json = {\"2df6ea05-0c1e-46da-8f7b-829a85a8530a\":{\"defs\":[],\"roots\":{\"references\":[{\"attributes\":{\"below\":[{\"id\":\"1093\"}],\"center\":[{\"id\":\"1095\"},{\"id\":\"1099\"}],\"left\":[{\"id\":\"1096\"}],\"renderers\":[{\"id\":\"1105\"}],\"title\":{\"id\":\"1083\"},\"toolbar\":{\"id\":\"1100\"},\"toolbar_location\":null,\"width\":800,\"x_range\":{\"id\":\"1085\"},\"x_scale\":{\"id\":\"1089\"},\"y_range\":{\"id\":\"1087\"},\"y_scale\":{\"id\":\"1091\"}},\"id\":\"1082\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{\"fill_color\":{\"value\":\"#1f77b4\"},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1102\",\"type\":\"VBar\"},{\"attributes\":{\"coordinates\":null,\"data_source\":{\"id\":\"1101\"},\"glyph\":{\"id\":\"1102\"},\"group\":null,\"hover_glyph\":null,\"muted_glyph\":{\"id\":\"1104\"},\"nonselection_glyph\":{\"id\":\"1103\"},\"view\":{\"id\":\"1106\"}},\"id\":\"1105\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"data\":{\"top\":{\"__ndarray__\":\"mpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNA\",\"dtype\":\"float64\",\"order\":\"little\",\"shape\":[15]},\"x\":[\"Polar Express 30th anniversary edition\",\"Cat Kid Comic Club: Perspectives: A Graphic Novel (Cat Kid Comic Club #2): From the Creator of Dog Man\",\"Little Blue Truck's Christmas\",\"Joshua Weissman: An Unapologetic Cookbook. #1 NEW YORK TIMES BESTSELLER\",\"The Very Hungry Caterpillar\",\"Harry Potter Paperback Box Set (Books 1-7)\",\"I Love You to the Moon and Back\",\"Dog Man: Mothering Heights: A Graphic Novel (Dog Man #10): From the Creator of Captain Underpants (10)\",\"Super Extra Deluxe Essential Handbook (Pok\\u00e9mon): The Need-to-Know Stats and Facts on Over 875 Characters\",\"Penguin Random House The Wonderful Things You Will Be\",\"Construction Site on Christmas Night: (Christmas Book for Kids, Children's Book, Holiday Picture Book) (Goodnight\\u2026\",\"How the Grinch Stole Christmas! (Classic Seuss)\",\"Percy Jackson and the Olympians 5 Book Paperback Boxed Set (new covers w/poster) (Percy Jackson & the Olympians)\",\"Humans\",\"Brown Bear, Brown Bear, What Do You See?\"]},\"selected\":{\"id\":\"1124\"},\"selection_policy\":{\"id\":\"1123\"}},\"id\":\"1101\",\"type\":\"ColumnDataSource\"},{\"attributes\":{},\"id\":\"1124\",\"type\":\"Selection\"},{\"attributes\":{\"coordinates\":null,\"group\":null,\"text\":\"Top Rated Books with more than 1000 Customers Rating\"},\"id\":\"1083\",\"type\":\"Title\"},{\"attributes\":{},\"id\":\"1121\",\"type\":\"CategoricalTickFormatter\"},{\"attributes\":{},\"id\":\"1123\",\"type\":\"UnionRenderers\"},{\"attributes\":{\"start\":0},\"id\":\"1087\",\"type\":\"DataRange1d\"},{\"attributes\":{},\"id\":\"1089\",\"type\":\"CategoricalScale\"},{\"attributes\":{\"source\":{\"id\":\"1101\"}},\"id\":\"1106\",\"type\":\"CDSView\"},{\"attributes\":{},\"id\":\"1091\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"1100\",\"type\":\"Toolbar\"},{\"attributes\":{\"factors\":[\"Polar Express 30th anniversary edition\",\"Cat Kid Comic Club: Perspectives: A Graphic Novel (Cat Kid Comic Club #2): From the Creator of Dog Man\",\"Little Blue Truck's Christmas\",\"Joshua Weissman: An Unapologetic Cookbook. #1 NEW YORK TIMES BESTSELLER\",\"The Very Hungry Caterpillar\",\"Harry Potter Paperback Box Set (Books 1-7)\",\"I Love You to the Moon and Back\",\"Dog Man: Mothering Heights: A Graphic Novel (Dog Man #10): From the Creator of Captain Underpants (10)\",\"Super Extra Deluxe Essential Handbook (Pok\\u00e9mon): The Need-to-Know Stats and Facts on Over 875 Characters\",\"Penguin Random House The Wonderful Things You Will Be\",\"Construction Site on Christmas Night: (Christmas Book for Kids, Children's Book, Holiday Picture Book) (Goodnight\\u2026\",\"How the Grinch Stole Christmas! (Classic Seuss)\",\"Percy Jackson and the Olympians 5 Book Paperback Boxed Set (new covers w/poster) (Percy Jackson & the Olympians)\",\"Humans\",\"Brown Bear, Brown Bear, What Do You See?\"]},\"id\":\"1085\",\"type\":\"FactorRange\"},{\"attributes\":{},\"id\":\"1118\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{},\"id\":\"1119\",\"type\":\"AllLabels\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1121\"},\"group\":null,\"major_label_orientation\":1.5707963267948966,\"major_label_policy\":{\"id\":\"1122\"},\"ticker\":{\"id\":\"1094\"}},\"id\":\"1093\",\"type\":\"CategoricalAxis\"},{\"attributes\":{},\"id\":\"1097\",\"type\":\"BasicTicker\"},{\"attributes\":{},\"id\":\"1094\",\"type\":\"CategoricalTicker\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"value\":\"#1f77b4\"},\"hatch_alpha\":{\"value\":0.1},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1103\",\"type\":\"VBar\"},{\"attributes\":{\"axis\":{\"id\":\"1093\"},\"coordinates\":null,\"grid_line_color\":null,\"group\":null,\"ticker\":null},\"id\":\"1095\",\"type\":\"Grid\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.2},\"fill_color\":{\"value\":\"#1f77b4\"},\"hatch_alpha\":{\"value\":0.2},\"line_alpha\":{\"value\":0.2},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1104\",\"type\":\"VBar\"},{\"attributes\":{\"axis\":{\"id\":\"1096\"},\"coordinates\":null,\"dimension\":1,\"group\":null,\"ticker\":null},\"id\":\"1099\",\"type\":\"Grid\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1118\"},\"group\":null,\"major_label_policy\":{\"id\":\"1119\"},\"ticker\":{\"id\":\"1097\"}},\"id\":\"1096\",\"type\":\"LinearAxis\"},{\"attributes\":{},\"id\":\"1122\",\"type\":\"AllLabels\"}],\"root_ids\":[\"1082\"]},\"title\":\"Bokeh Application\",\"version\":\"2.4.1\"}};\n  const render_items = [{\"docid\":\"2df6ea05-0c1e-46da-8f7b-829a85a8530a\",\"root_ids\":[\"1082\"],\"roots\":{\"1082\":\"0b41883e-4476-4111-81f3-445ff9187bcf\"}}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "1082"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "p = figure(x_range=data.iloc[:,0], plot_width=800, plot_height=600, title=\"Top Rated Books with more than 1000 Customers Rating\", toolbar_location=None, tools=\"\")\n",
    "\n",
    "p.vbar(x=data.iloc[:,0], top=data.iloc[:,2], width=0.9)\n",
    "\n",
    "p.xgrid.grid_line_color = None\n",
    "p.y_range.start = 0\n",
    "p.xaxis.major_label_orientation = math.pi/2\n",
    "show(p)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "f1c6fa47",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:47.901229Z",
     "iopub.status.busy": "2021-11-19T20:16:47.900318Z",
     "iopub.status.idle": "2021-11-19T20:16:47.953685Z",
     "shell.execute_reply": "2021-11-19T20:16:47.953032Z",
     "shell.execute_reply.started": "2021-11-19T19:50:09.206414Z"
    },
    "papermill": {
     "duration": 0.08766,
     "end_time": "2021-11-19T20:16:47.953830",
     "exception": false,
     "start_time": "2021-11-19T20:16:47.866170",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "  <div class=\"bk-root\" id=\"3dac30dd-5347-45a0-93f0-fc17c5c78b2a\" data-root-id=\"1170\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n    \n  const docs_json = {\"1d3e6562-5b27-4ffc-b046-3ace58abd3da\":{\"defs\":[],\"roots\":{\"references\":[{\"attributes\":{\"below\":[{\"id\":\"1181\"}],\"center\":[{\"id\":\"1183\"},{\"id\":\"1187\"}],\"left\":[{\"id\":\"1184\"}],\"renderers\":[{\"id\":\"1193\"}],\"title\":{\"id\":\"1171\"},\"toolbar\":{\"id\":\"1188\"},\"toolbar_location\":null,\"width\":800,\"x_range\":{\"id\":\"1173\"},\"x_scale\":{\"id\":\"1177\"},\"y_range\":{\"id\":\"1175\"},\"y_scale\":{\"id\":\"1179\"}},\"id\":\"1170\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{},\"id\":\"1179\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"1177\",\"type\":\"CategoricalScale\"},{\"attributes\":{\"start\":0},\"id\":\"1175\",\"type\":\"DataRange1d\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1215\"},\"group\":null,\"major_label_policy\":{\"id\":\"1216\"},\"ticker\":{\"id\":\"1185\"}},\"id\":\"1184\",\"type\":\"LinearAxis\"},{\"attributes\":{},\"id\":\"1216\",\"type\":\"AllLabels\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"value\":\"#1f77b4\"},\"hatch_alpha\":{\"value\":0.1},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1191\",\"type\":\"VBar\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1218\"},\"group\":null,\"major_label_orientation\":1.5707963267948966,\"major_label_policy\":{\"id\":\"1219\"},\"ticker\":{\"id\":\"1182\"}},\"id\":\"1181\",\"type\":\"CategoricalAxis\"},{\"attributes\":{\"axis\":{\"id\":\"1184\"},\"coordinates\":null,\"dimension\":1,\"group\":null,\"ticker\":null},\"id\":\"1187\",\"type\":\"Grid\"},{\"attributes\":{},\"id\":\"1185\",\"type\":\"BasicTicker\"},{\"attributes\":{\"factors\":[\"Chris Van Allsburg\",\"Dav Pilkey\",\"Alice Schertle\",\"Joshua Weissman\",\"Eric Carle\",\"J. K. Rowling\",\"Amelia Hepworth\",\"Dav Pilkey\",\"Scholastic\",\"Emily Winfield Martin\",\"Sherri Duskey Rinker\",\"Dr. Seuss\",\"Rick Riordan\",\"Brandon Stanton\",\"Bill Martin Jr.\"]},\"id\":\"1173\",\"type\":\"FactorRange\"},{\"attributes\":{\"fill_color\":{\"value\":\"#1f77b4\"},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1190\",\"type\":\"VBar\"},{\"attributes\":{},\"id\":\"1182\",\"type\":\"CategoricalTicker\"},{\"attributes\":{},\"id\":\"1215\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"coordinates\":null,\"data_source\":{\"id\":\"1189\"},\"glyph\":{\"id\":\"1190\"},\"group\":null,\"hover_glyph\":null,\"muted_glyph\":{\"id\":\"1192\"},\"nonselection_glyph\":{\"id\":\"1191\"},\"view\":{\"id\":\"1194\"}},\"id\":\"1193\",\"type\":\"GlyphRenderer\"},{\"attributes\":{},\"id\":\"1188\",\"type\":\"Toolbar\"},{\"attributes\":{\"axis\":{\"id\":\"1181\"},\"coordinates\":null,\"grid_line_color\":null,\"group\":null,\"ticker\":null},\"id\":\"1183\",\"type\":\"Grid\"},{\"attributes\":{\"data\":{\"top\":{\"__ndarray__\":\"mpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNAmpmZmZmZE0CamZmZmZkTQJqZmZmZmRNA\",\"dtype\":\"float64\",\"order\":\"little\",\"shape\":[15]},\"x\":[\"Chris Van Allsburg\",\"Dav Pilkey\",\"Alice Schertle\",\"Joshua Weissman\",\"Eric Carle\",\"J. K. Rowling\",\"Amelia Hepworth\",\"Dav Pilkey\",\"Scholastic\",\"Emily Winfield Martin\",\"Sherri Duskey Rinker\",\"Dr. Seuss\",\"Rick Riordan\",\"Brandon Stanton\",\"Bill Martin Jr.\"]},\"selected\":{\"id\":\"1221\"},\"selection_policy\":{\"id\":\"1220\"}},\"id\":\"1189\",\"type\":\"ColumnDataSource\"},{\"attributes\":{},\"id\":\"1218\",\"type\":\"CategoricalTickFormatter\"},{\"attributes\":{},\"id\":\"1220\",\"type\":\"UnionRenderers\"},{\"attributes\":{\"coordinates\":null,\"group\":null,\"text\":\"Top Rated Books with more than 1000 Customers Rating\"},\"id\":\"1171\",\"type\":\"Title\"},{\"attributes\":{},\"id\":\"1221\",\"type\":\"Selection\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.2},\"fill_color\":{\"value\":\"#1f77b4\"},\"hatch_alpha\":{\"value\":0.2},\"line_alpha\":{\"value\":0.2},\"line_color\":{\"value\":\"#1f77b4\"},\"top\":{\"field\":\"top\"},\"width\":{\"value\":0.9},\"x\":{\"field\":\"x\"}},\"id\":\"1192\",\"type\":\"VBar\"},{\"attributes\":{\"source\":{\"id\":\"1189\"}},\"id\":\"1194\",\"type\":\"CDSView\"},{\"attributes\":{},\"id\":\"1219\",\"type\":\"AllLabels\"}],\"root_ids\":[\"1170\"]},\"title\":\"Bokeh Application\",\"version\":\"2.4.1\"}};\n  const render_items = [{\"docid\":\"1d3e6562-5b27-4ffc-b046-3ace58abd3da\",\"root_ids\":[\"1170\"],\"roots\":{\"1170\":\"3dac30dd-5347-45a0-93f0-fc17c5c78b2a\"}}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "1170"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "p = figure(x_range=data.iloc[:,1], plot_width=800, plot_height=600, title=\"Top Rated Books with more than 1000 Customers Rating\", toolbar_location=None, tools=\"\")\n",
    "\n",
    "p.vbar(x=data.iloc[:,1], top=data.iloc[:,2], width=0.9)\n",
    "\n",
    "p.xgrid.grid_line_color = None\n",
    "p.y_range.start = 0\n",
    "p.xaxis.major_label_orientation = math.pi/2\n",
    "show(p)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "de2631db",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:48.088297Z",
     "iopub.status.busy": "2021-11-19T20:16:48.087687Z",
     "iopub.status.idle": "2021-11-19T20:16:48.089509Z",
     "shell.execute_reply": "2021-11-19T20:16:48.090062Z",
     "shell.execute_reply.started": "2021-11-19T19:39:33.337253Z"
    },
    "papermill": {
     "duration": 0.039225,
     "end_time": "2021-11-19T20:16:48.090226",
     "exception": false,
     "start_time": "2021-11-19T20:16:48.051001",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "data = df.sort_values([\"Customers_Rated\"], axis=0, ascending=False)[:20]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "b75c4be0",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:48.168493Z",
     "iopub.status.busy": "2021-11-19T20:16:48.156642Z",
     "iopub.status.idle": "2021-11-19T20:16:48.171634Z",
     "shell.execute_reply": "2021-11-19T20:16:48.172080Z",
     "shell.execute_reply.started": "2021-11-19T19:39:44.68331Z"
    },
    "papermill": {
     "duration": 0.049673,
     "end_time": "2021-11-19T20:16:48.172252",
     "exception": false,
     "start_time": "2021-11-19T20:16:48.122579",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Book Name</th>\n",
       "      <th>Author</th>\n",
       "      <th>Rating</th>\n",
       "      <th>Customers_Rated</th>\n",
       "      <th>Price</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>76</th>\n",
       "      <td>The Midnight Library: A Novel</td>\n",
       "      <td>Matt Haig</td>\n",
       "      <td>4.3</td>\n",
       "      <td>117648.0</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>37</th>\n",
       "      <td>The Boy, the Mole, the Fox and the Horse</td>\n",
       "      <td>Charlie Mackesy</td>\n",
       "      <td>4.8</td>\n",
       "      <td>86426.0</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>The Four Agreements: A Practical Guide to Pers...</td>\n",
       "      <td>Don Miguel Ruiz</td>\n",
       "      <td>4.7</td>\n",
       "      <td>68134.0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>32</th>\n",
       "      <td>My First Learn to Write Workbook: Practice for...</td>\n",
       "      <td>Crystal Radke</td>\n",
       "      <td>4.8</td>\n",
       "      <td>63347.0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>41</th>\n",
       "      <td>Harry Potter Paperback Box Set (Books 1-7)</td>\n",
       "      <td>J. K. Rowling</td>\n",
       "      <td>4.9</td>\n",
       "      <td>57791.0</td>\n",
       "      <td>45</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>88</th>\n",
       "      <td>The Subtle Art of Not Giving a F*ck: A Counter...</td>\n",
       "      <td>Mark Manson</td>\n",
       "      <td>4.6</td>\n",
       "      <td>57438.0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>If Animals Kissed Good Night</td>\n",
       "      <td>Ann Whitford Paul</td>\n",
       "      <td>4.8</td>\n",
       "      <td>57434.0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>68</th>\n",
       "      <td>School Zone - Big Preschool Workbook - 320 Pag...</td>\n",
       "      <td>School Zone</td>\n",
       "      <td>4.8</td>\n",
       "      <td>56006.0</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Atomic Habits: An Easy &amp; Proven Way to Build G...</td>\n",
       "      <td>James Clear</td>\n",
       "      <td>4.8</td>\n",
       "      <td>55828.0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>55</th>\n",
       "      <td>The Last Thing He Told Me: A Novel</td>\n",
       "      <td>Laura Dave</td>\n",
       "      <td>4.3</td>\n",
       "      <td>52036.0</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>I Love You to the Moon and Back</td>\n",
       "      <td>Amelia Hepworth</td>\n",
       "      <td>4.9</td>\n",
       "      <td>43692.0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>The Very Hungry Caterpillar</td>\n",
       "      <td>Eric Carle</td>\n",
       "      <td>4.9</td>\n",
       "      <td>42110.0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>Dune (Dune Chronicles, Book 1)</td>\n",
       "      <td>Frank Herbert</td>\n",
       "      <td>4.7</td>\n",
       "      <td>39694.0</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Atria Books It Ends with Us: A Novel</td>\n",
       "      <td>Colleen Hoover</td>\n",
       "      <td>4.7</td>\n",
       "      <td>39510.0</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Penguin Books The Body Keeps The Score: Brain,...</td>\n",
       "      <td>Bessel van der Kolk M.D.</td>\n",
       "      <td>4.8</td>\n",
       "      <td>38498.0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>35</th>\n",
       "      <td>Washington Square Press The Seven Husbands of ...</td>\n",
       "      <td>Taylor Jenkins Reid</td>\n",
       "      <td>4.6</td>\n",
       "      <td>35967.0</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>64</th>\n",
       "      <td>Brown Bear, Brown Bear, What Do You See?</td>\n",
       "      <td>Bill Martin Jr.</td>\n",
       "      <td>4.9</td>\n",
       "      <td>35375.0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>43</th>\n",
       "      <td>My First Library : Boxset of 10 Board Books fo...</td>\n",
       "      <td>Wonder House Books</td>\n",
       "      <td>4.6</td>\n",
       "      <td>33312.0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>39</th>\n",
       "      <td>Wacky Waving Inflatable Tube Guy (RP Minis)</td>\n",
       "      <td>Conor Riordan</td>\n",
       "      <td>4.0</td>\n",
       "      <td>33244.0</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>73</th>\n",
       "      <td>The 48 Laws of Power</td>\n",
       "      <td>Robert Greene</td>\n",
       "      <td>4.7</td>\n",
       "      <td>32434.0</td>\n",
       "      <td>14</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            Book Name  \\\n",
       "76                      The Midnight Library: A Novel   \n",
       "37           The Boy, the Mole, the Fox and the Horse   \n",
       "28  The Four Agreements: A Practical Guide to Pers...   \n",
       "32  My First Learn to Write Workbook: Practice for...   \n",
       "41         Harry Potter Paperback Box Set (Books 1-7)   \n",
       "88  The Subtle Art of Not Giving a F*ck: A Counter...   \n",
       "16                       If Animals Kissed Good Night   \n",
       "68  School Zone - Big Preschool Workbook - 320 Pag...   \n",
       "9   Atomic Habits: An Easy & Proven Way to Build G...   \n",
       "55                 The Last Thing He Told Me: A Novel   \n",
       "24                    I Love You to the Moon and Back   \n",
       "26                        The Very Hungry Caterpillar   \n",
       "25                     Dune (Dune Chronicles, Book 1)   \n",
       "12               Atria Books It Ends with Us: A Novel   \n",
       "14  Penguin Books The Body Keeps The Score: Brain,...   \n",
       "35  Washington Square Press The Seven Husbands of ...   \n",
       "64           Brown Bear, Brown Bear, What Do You See?   \n",
       "43  My First Library : Boxset of 10 Board Books fo...   \n",
       "39        Wacky Waving Inflatable Tube Guy (RP Minis)   \n",
       "73                               The 48 Laws of Power   \n",
       "\n",
       "                      Author  Rating  Customers_Rated  Price  \n",
       "76                 Matt Haig     4.3         117648.0     13  \n",
       "37           Charlie Mackesy     4.8          86426.0     13  \n",
       "28           Don Miguel Ruiz     4.7          68134.0      5  \n",
       "32             Crystal Radke     4.8          63347.0      4  \n",
       "41             J. K. Rowling     4.9          57791.0     45  \n",
       "88               Mark Manson     4.6          57438.0     11  \n",
       "16         Ann Whitford Paul     4.8          57434.0      4  \n",
       "68               School Zone     4.8          56006.0      3  \n",
       "9                James Clear     4.8          55828.0     11  \n",
       "55                Laura Dave     4.3          52036.0      9  \n",
       "24           Amelia Hepworth     4.9          43692.0      4  \n",
       "26                Eric Carle     4.9          42110.0      5  \n",
       "25             Frank Herbert     4.7          39694.0     12  \n",
       "12            Colleen Hoover     4.7          39510.0      9  \n",
       "14  Bessel van der Kolk M.D.     4.8          38498.0     11  \n",
       "35       Taylor Jenkins Reid     4.6          35967.0      2  \n",
       "64           Bill Martin Jr.     4.9          35375.0      5  \n",
       "43        Wonder House Books     4.6          33312.0     17  \n",
       "39             Conor Riordan     4.0          33244.0      6  \n",
       "73             Robert Greene     4.7          32434.0     14  "
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "9a2c6cfa",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:48.243109Z",
     "iopub.status.busy": "2021-11-19T20:16:48.242097Z",
     "iopub.status.idle": "2021-11-19T20:16:48.247189Z",
     "shell.execute_reply": "2021-11-19T20:16:48.247680Z",
     "shell.execute_reply.started": "2021-11-19T19:40:03.428183Z"
    },
    "papermill": {
     "duration": 0.04159,
     "end_time": "2021-11-19T20:16:48.247862",
     "exception": false,
     "start_time": "2021-11-19T20:16:48.206272",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "from bokeh.transform import factor_cmap\n",
    "from bokeh.models import Legend\n",
    "from bokeh.palettes import Dark2_5 as palette\n",
    "import itertools\n",
    "from bokeh.palettes import d3\n",
    "#colors has a list of colors which can be used in plots\n",
    "colors = itertools.cycle(palette)\n",
    "\n",
    "palette = d3['Category20'][20]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "f5b31935",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:48.318252Z",
     "iopub.status.busy": "2021-11-19T20:16:48.317226Z",
     "iopub.status.idle": "2021-11-19T20:16:48.322136Z",
     "shell.execute_reply": "2021-11-19T20:16:48.322654Z",
     "shell.execute_reply.started": "2021-11-19T19:40:21.783849Z"
    },
    "papermill": {
     "duration": 0.042017,
     "end_time": "2021-11-19T20:16:48.322837",
     "exception": false,
     "start_time": "2021-11-19T20:16:48.280820",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "index_cmap = factor_cmap('Author', palette=palette,\n",
    "                         factors=data[\"Author\"])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "f3a53e8b",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:48.393126Z",
     "iopub.status.busy": "2021-11-19T20:16:48.392065Z",
     "iopub.status.idle": "2021-11-19T20:16:48.416718Z",
     "shell.execute_reply": "2021-11-19T20:16:48.417261Z",
     "shell.execute_reply.started": "2021-11-19T19:40:34.727596Z"
    },
    "papermill": {
     "duration": 0.061327,
     "end_time": "2021-11-19T20:16:48.417454",
     "exception": false,
     "start_time": "2021-11-19T20:16:48.356127",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "BokehDeprecationWarning: 'legend' keyword is deprecated, use explicit 'legend_label', 'legend_field', or 'legend_group' keywords instead\n"
     ]
    }
   ],
   "source": [
    "p = figure(plot_width=700, plot_height=700, title = \"Top Authors: Rating vs. Customers Rated\")\n",
    "p.scatter('Rating','Customers_Rated',source=data,fill_alpha=0.6, fill_color=index_cmap,size=20,legend='Author')\n",
    "p.xaxis.axis_label = 'RATING'\n",
    "p.yaxis.axis_label = 'CUSTOMERS RATED'\n",
    "p.legend.location = 'top_left'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "8624a8db",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2021-11-19T20:16:48.488067Z",
     "iopub.status.busy": "2021-11-19T20:16:48.487455Z",
     "iopub.status.idle": "2021-11-19T20:16:48.550193Z",
     "shell.execute_reply": "2021-11-19T20:16:48.549689Z",
     "shell.execute_reply.started": "2021-11-19T19:40:55.257344Z"
    },
    "papermill": {
     "duration": 0.099762,
     "end_time": "2021-11-19T20:16:48.550328",
     "exception": false,
     "start_time": "2021-11-19T20:16:48.450566",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "\n",
       "  <div class=\"bk-root\" id=\"48f477f1-427e-44a8-a01f-16acbdebb523\" data-root-id=\"1268\"></div>\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "application/javascript": "(function(root) {\n  function embed_document(root) {\n    \n  const docs_json = {\"950b2fb4-f070-49e0-9447-9b6c4a562914\":{\"defs\":[],\"roots\":{\"references\":[{\"attributes\":{\"below\":[{\"id\":\"1279\"}],\"center\":[{\"id\":\"1282\"},{\"id\":\"1286\"},{\"id\":\"1318\"}],\"height\":700,\"left\":[{\"id\":\"1283\"}],\"renderers\":[{\"id\":\"1306\"}],\"title\":{\"id\":\"1269\"},\"toolbar\":{\"id\":\"1294\"},\"width\":700,\"x_range\":{\"id\":\"1271\"},\"x_scale\":{\"id\":\"1275\"},\"y_range\":{\"id\":\"1273\"},\"y_scale\":{\"id\":\"1277\"}},\"id\":\"1268\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{\"axis\":{\"id\":\"1283\"},\"coordinates\":null,\"dimension\":1,\"group\":null,\"ticker\":null},\"id\":\"1286\",\"type\":\"Grid\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.2},\"fill_color\":{\"field\":\"Author\",\"transform\":{\"id\":\"1267\"}},\"hatch_alpha\":{\"value\":0.2},\"line_alpha\":{\"value\":0.2},\"line_color\":{\"value\":\"#1f77b4\"},\"size\":{\"value\":20},\"x\":{\"field\":\"Rating\"},\"y\":{\"field\":\"Customers_Rated\"}},\"id\":\"1305\",\"type\":\"Scatter\"},{\"attributes\":{},\"id\":\"1313\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{},\"id\":\"1271\",\"type\":\"DataRange1d\"},{\"attributes\":{},\"id\":\"1275\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"1311\",\"type\":\"AllLabels\"},{\"attributes\":{},\"id\":\"1290\",\"type\":\"SaveTool\"},{\"attributes\":{},\"id\":\"1287\",\"type\":\"PanTool\"},{\"attributes\":{\"coordinates\":null,\"group\":null,\"text\":\"Top Authors: Rating vs. Customers Rated\"},\"id\":\"1269\",\"type\":\"Title\"},{\"attributes\":{\"data\":{\"Author\":[\"Matt Haig\",\"Charlie Mackesy\",\"Don Miguel Ruiz\",\"Crystal Radke\",\"J. K. Rowling\",\"Mark Manson\",\"Ann Whitford Paul\",\"School Zone\",\"James Clear\",\"Laura Dave\",\"Amelia Hepworth\",\"Eric Carle\",\"Frank Herbert\",\"Colleen Hoover\",\"Bessel van der Kolk M.D.\",\"Taylor Jenkins Reid\",\"Bill Martin Jr.\",\"Wonder House Books\",\"Conor Riordan\",\"Robert Greene\"],\"Book Name\":[\"The Midnight Library: A Novel\",\"The Boy, the Mole, the Fox and the Horse\",\"The Four Agreements: A Practical Guide to Personal Freedom (A Toltec Wisdom Book)\",\"My First Learn to Write Workbook: Practice for Kids with Pen Control, Line Tracing, Letters, and More!\",\"Harry Potter Paperback Box Set (Books 1-7)\",\"The Subtle Art of Not Giving a F*ck: A Counterintuitive Approach to Living a Good Life\",\"If Animals Kissed Good Night\",\"School Zone - Big Preschool Workbook - 320 Pages, Ages 3 to 5, Colors, Shapes, Numbers, Early Math, Alphabet, Pre\\u2026\",\"Atomic Habits: An Easy & Proven Way to Build Good Habits & Break Bad Ones\",\"The Last Thing He Told Me: A Novel\",\"I Love You to the Moon and Back\",\"The Very Hungry Caterpillar\",\"Dune (Dune Chronicles, Book 1)\",\"Atria Books It Ends with Us: A Novel\",\"Penguin Books The Body Keeps The Score: Brain, Mind, And Body In The Healing Of Trauma\",\"Washington Square Press The Seven Husbands of Evelyn Hugo Novel\",\"Brown Bear, Brown Bear, What Do You See?\",\"My First Library : Boxset of 10 Board Books for Kids\",\"Wacky Waving Inflatable Tube Guy (RP Minis)\",\"The 48 Laws of Power\"],\"Customers_Rated\":{\"__ndarray__\":\"AAAAAAC5/EAAAAAAoBn1QAAAAABgovBAAAAAAGDu7kAAAAAA4DfsQAAAAADAC+xAAAAAAEAL7EAAAAAAwFjrQAAAAACAQutAAAAAAIBo6UAAAAAAgFXlQAAAAADAj+RAAAAAAMBh40AAAAAAwErjQAAAAABAzOJAAAAAAOCP4UAAAAAA4EXhQAAAAAAAROBAAAAAAIA74EAAAAAAgKzfQA==\",\"dtype\":\"float64\",\"order\":\"little\",\"shape\":[20]},\"Price\":[13,13,5,4,45,11,4,3,11,9,4,5,12,9,11,2,5,17,6,14],\"Rating\":{\"__ndarray__\":\"MzMzMzMzEUAzMzMzMzMTQM3MzMzMzBJAMzMzMzMzE0CamZmZmZkTQGZmZmZmZhJAMzMzMzMzE0AzMzMzMzMTQDMzMzMzMxNAMzMzMzMzEUCamZmZmZkTQJqZmZmZmRNAzczMzMzMEkDNzMzMzMwSQDMzMzMzMxNAZmZmZmZmEkCamZmZmZkTQGZmZmZmZhJAAAAAAAAAEEDNzMzMzMwSQA==\",\"dtype\":\"float64\",\"order\":\"little\",\"shape\":[20]},\"index\":[76,37,28,32,41,88,16,68,9,55,24,26,25,12,14,35,64,43,39,73]},\"selected\":{\"id\":\"1316\"},\"selection_policy\":{\"id\":\"1315\"}},\"id\":\"1301\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"field\":\"Author\",\"transform\":{\"id\":\"1267\"}},\"hatch_alpha\":{\"value\":0.1},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"value\":\"#1f77b4\"},\"size\":{\"value\":20},\"x\":{\"field\":\"Rating\"},\"y\":{\"field\":\"Customers_Rated\"}},\"id\":\"1304\",\"type\":\"Scatter\"},{\"attributes\":{\"tools\":[{\"id\":\"1287\"},{\"id\":\"1288\"},{\"id\":\"1289\"},{\"id\":\"1290\"},{\"id\":\"1291\"},{\"id\":\"1292\"}]},\"id\":\"1294\",\"type\":\"Toolbar\"},{\"attributes\":{\"axis_label\":\"CUSTOMERS RATED\",\"coordinates\":null,\"formatter\":{\"id\":\"1310\"},\"group\":null,\"major_label_policy\":{\"id\":\"1311\"},\"ticker\":{\"id\":\"1284\"}},\"id\":\"1283\",\"type\":\"LinearAxis\"},{\"attributes\":{},\"id\":\"1280\",\"type\":\"BasicTicker\"},{\"attributes\":{},\"id\":\"1273\",\"type\":\"DataRange1d\"},{\"attributes\":{\"coordinates\":null,\"data_source\":{\"id\":\"1301\"},\"glyph\":{\"id\":\"1303\"},\"group\":null,\"hover_glyph\":null,\"muted_glyph\":{\"id\":\"1305\"},\"nonselection_glyph\":{\"id\":\"1304\"},\"view\":{\"id\":\"1307\"}},\"id\":\"1306\",\"type\":\"GlyphRenderer\"},{\"attributes\":{},\"id\":\"1315\",\"type\":\"UnionRenderers\"},{\"attributes\":{},\"id\":\"1284\",\"type\":\"BasicTicker\"},{\"attributes\":{\"factors\":[\"Matt Haig\",\"Charlie Mackesy\",\"Don Miguel Ruiz\",\"Crystal Radke\",\"J. K. Rowling\",\"Mark Manson\",\"Ann Whitford Paul\",\"School Zone\",\"James Clear\",\"Laura Dave\",\"Amelia Hepworth\",\"Eric Carle\",\"Frank Herbert\",\"Colleen Hoover\",\"Bessel van der Kolk M.D.\",\"Taylor Jenkins Reid\",\"Bill Martin Jr.\",\"Wonder House Books\",\"Conor Riordan\",\"Robert Greene\"],\"palette\":[\"#1f77b4\",\"#aec7e8\",\"#ff7f0e\",\"#ffbb78\",\"#2ca02c\",\"#98df8a\",\"#d62728\",\"#ff9896\",\"#9467bd\",\"#c5b0d5\",\"#8c564b\",\"#c49c94\",\"#e377c2\",\"#f7b6d2\",\"#7f7f7f\",\"#c7c7c7\",\"#bcbd22\",\"#dbdb8d\",\"#17becf\",\"#9edae5\"]},\"id\":\"1267\",\"type\":\"CategoricalColorMapper\"},{\"attributes\":{},\"id\":\"1314\",\"type\":\"AllLabels\"},{\"attributes\":{},\"id\":\"1292\",\"type\":\"HelpTool\"},{\"attributes\":{\"axis_label\":\"RATING\",\"coordinates\":null,\"formatter\":{\"id\":\"1313\"},\"group\":null,\"major_label_policy\":{\"id\":\"1314\"},\"ticker\":{\"id\":\"1280\"}},\"id\":\"1279\",\"type\":\"LinearAxis\"},{\"attributes\":{\"coordinates\":null,\"group\":null,\"items\":[{\"id\":\"1319\"}],\"location\":\"top_left\"},\"id\":\"1318\",\"type\":\"Legend\"},{\"attributes\":{},\"id\":\"1310\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.6},\"fill_color\":{\"field\":\"Author\",\"transform\":{\"id\":\"1267\"}},\"line_color\":{\"value\":\"#1f77b4\"},\"size\":{\"value\":20},\"x\":{\"field\":\"Rating\"},\"y\":{\"field\":\"Customers_Rated\"}},\"id\":\"1303\",\"type\":\"Scatter\"},{\"attributes\":{\"source\":{\"id\":\"1301\"}},\"id\":\"1307\",\"type\":\"CDSView\"},{\"attributes\":{},\"id\":\"1291\",\"type\":\"ResetTool\"},{\"attributes\":{\"label\":{\"field\":\"Author\"},\"renderers\":[{\"id\":\"1306\"}]},\"id\":\"1319\",\"type\":\"LegendItem\"},{\"attributes\":{},\"id\":\"1316\",\"type\":\"Selection\"},{\"attributes\":{\"axis\":{\"id\":\"1279\"},\"coordinates\":null,\"group\":null,\"ticker\":null},\"id\":\"1282\",\"type\":\"Grid\"},{\"attributes\":{\"bottom_units\":\"screen\",\"coordinates\":null,\"fill_alpha\":0.5,\"fill_color\":\"lightgrey\",\"group\":null,\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":1.0,\"line_color\":\"black\",\"line_dash\":[4,4],\"line_width\":2,\"right_units\":\"screen\",\"syncable\":false,\"top_units\":\"screen\"},\"id\":\"1293\",\"type\":\"BoxAnnotation\"},{\"attributes\":{},\"id\":\"1277\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"1288\",\"type\":\"WheelZoomTool\"},{\"attributes\":{\"overlay\":{\"id\":\"1293\"}},\"id\":\"1289\",\"type\":\"BoxZoomTool\"}],\"root_ids\":[\"1268\"]},\"title\":\"Bokeh Application\",\"version\":\"2.4.1\"}};\n  const render_items = [{\"docid\":\"950b2fb4-f070-49e0-9447-9b6c4a562914\",\"root_ids\":[\"1268\"],\"roots\":{\"1268\":\"48f477f1-427e-44a8-a01f-16acbdebb523\"}}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts > 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);",
      "application/vnd.bokehjs_exec.v0+json": ""
     },
     "metadata": {
      "application/vnd.bokehjs_exec.v0+json": {
       "id": "1268"
      }
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "show(p)"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.10"
  },
  "papermill": {
   "default_parameters": {},
   "duration": 17.276149,
   "end_time": "2021-11-19T20:16:49.501127",
   "environment_variables": {},
   "exception": null,
   "input_path": "__notebook__.ipynb",
   "output_path": "__notebook__.ipynb",
   "parameters": {},
   "start_time": "2021-11-19T20:16:32.224978",
   "version": "2.3.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
